"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),SHIPS=[["Sherlock","John"]],MAIN_TROPES=["Person1 and Person2 have to pretend to be in a relationship."],SECONDARY_TROPES=["Unexpectedly, somebody has tentacles."],Utils=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"sample",value:function(e){var t=Math.random();return e[Math.floor(t*e.length)]}},{key:"shufflePair",value:function(e){var t=Math.random(),n=Math.floor(2*t),r=(n+1)%2;return[e[n],e[r]]}}]),e}(),Idea=function(){function e(t){_classCallCheck(this,e),this.ship=t,this.mainTrope=this.generateTrope(MAIN_TROPES),this.secondaryTrope=this.generateTrope(SECONDARY_TROPES)}return _createClass(e,[{key:"generateTrope",value:function(e){var t=Utils.sample(e);return t=t.replace("Person1",this.ship.personOne),t=t.replace("Person2",this.ship.personTwo)}}]),e}(),Ship=function(){function e(t){_classCallCheck(this,e),this.ship=Utils.shufflePair(SHIPS[t])}return _createClass(e,[{key:"personOne",get:function(){return this.ship[0]}},{key:"personTwo",get:function(){return this.ship[1]}}]),e}(),FicGenerator=function(){function e(t){_classCallCheck(this,e),this.$shipSelector=t("#ship-selector"),this.$goButton=t("#go"),this.$mainTrope=t("#main-trope"),this.$secondaryTrope=t("#secondary-trope"),this.setupShips(),this.$goButton.click(this.generateIdea.bind(this))}return _createClass(e,[{key:"setupShips",value:function(){var e=this;SHIPS.map(this.shipOption).forEach(function(t){return e.$shipSelector.append(t)})}},{key:"shipOption",value:function(e,t){return'<option value="'+t+'">'+e.join("/")+"</option>"}},{key:"generateIdea",value:function(){var e=this.$shipSelector.val();if(e){var t=new Ship(parseInt(e)),n=new Idea(t);this.$mainTrope.text(n.mainTrope),this.$secondaryTrope.text(n.secondaryTrope)}}}]),e}();jQuery(function(e){new FicGenerator(e)});